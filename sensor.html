<!DOCTYPE html>
<html>
<head>
    <title>Device Motion Example</title>
</head>
<body>
    <button id="requestPermission">Enable Motion Detection</button>

    <script>
        document.getElementById('requestPermission').addEventListener('click', () => {
            if (typeof DeviceMotionEvent.requestPermission === 'function') {
                DeviceMotionEvent.requestPermission()
                    .then(response => {
                        if (response === 'granted') {
                            window.addEventListener('devicemotion', (event) => {
                                console.log('Acceleration:', event.acceleration);
                            });
                        } else {
                            alert('Permission denied');
                        }
                    })
                    .catch(console.error);
            } else {
                // Non-iOS 13+ device
                window.addEventListener('devicemotion', (event) => {
                    console.log('Acceleration:', event.acceleration);
                });
            }
        });
    </script>
</body>
</html>
